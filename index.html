<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartStudy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #fcfbf8;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Modo Oscuro */
        body.dark-mode {
            background: #1a1a1a;
            color: #f0f0f0;
        }

        body.dark-mode .login-container,
        body.dark-mode .course-card,
        body.dark-mode .header,
        body.dark-mode .course-header-nav {
            background: #242424;
            color: #f0f0f0;
        }

        body.dark-mode .logo-section h1,
        body.dark-mode .course-title-main,
        body.dark-mode .hero-title,
        body.dark-mode .course-title,
        body.dark-mode .topic-title,
        body.dark-mode .logo-text {
            color: #f0f0f0;
        }

        body.dark-mode .subtitle,
        body.dark-mode .hero-subtitle,
        body.dark-mode .course-description,
        body.dark-mode .topic-description,
        body.dark-mode .nav-link,
        body.dark-mode .breadcrumb {
            color: #aaa;
        }

        body.dark-mode .form-group input {
            background: #333;
            border-color: #444;
            color: #f0f0f0;
        }

        body.dark-mode .form-group input:focus {
            background: #3a3a3a;
            border-color: #f7b602;
        }

        body.dark-mode .form-group label {
            color: #f0f0f0;
        }

        body.dark-mode .tab {
            background: #333;
            color: #aaa;
        }

        body.dark-mode .tab:hover {
            background: #444;
        }

        body.dark-mode .course-footer {
            background: #2a2a2a;
        }

        body.dark-mode .theme-toggle,
        body.dark-mode .logout-btn {
            background: #333;
        }

        body.dark-mode .theme-toggle:hover,
        body.dark-mode .logout-btn:hover {
            background: #f7b602;
        }

        body.dark-mode .header,
        body.dark-mode .course-header-nav {
            border-bottom-color: #333;
        }

        body.dark-mode .top-nav {
            border-bottom-color: #333;
        }

        body.dark-mode .tabs-nav {
            border-bottom-color: #333;
        }

        body.dark-mode .btn-secondary {
            background: #333;
            border-color: #444;
            color: #f0f0f0;
        }

        body.dark-mode .btn-secondary:hover {
            border-color: #f7b602;
            color: #f7b602;
        }

        body.dark-mode .video-container {
            background: #333;
        }

        body.dark-mode .dropdown-content {
            background: #242424;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }

        body.dark-mode .dropdown-item {
            color: #aaa;
        }

        body.dark-mode .dropdown-item:hover {
            background: #f7b602;
            color: #1a1a1a;
        }

        body.dark-mode .course-card {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .course-card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
        }

        body.dark-mode .breadcrumb a {
            color: #f7b602;
        }

        /* ========== PÁGINA DE LOGIN ========== */
        .login-page {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
        }

        .login-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            padding: 60px 50px;
            max-width: 500px;
            width: 100%;
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 40px;
        }

        .logo-section h1 {
            font-size: 48px;
            font-weight: 700;
            color: #2c2c2c;
            margin-bottom: 10px;
            letter-spacing: -1px;
        }

        .subtitle {
            color: #666;
            font-size: 16px;
            line-height: 1.6;
            margin-top: 10px;
        }

        .role-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }

        .tab {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: #f5f5f5;
            color: #666;
            font-size: 16px;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab:hover {
            background: #ffe8b3;
        }

        .tab.active {
            background: #f7b602;
            color: #2c2c2c;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            color: #2c2c2c;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-group input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e8e8e8;
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s ease;
            background: #fafafa;
        }

        .form-group input:focus {
            outline: none;
            border-color: #f7b602;
            background: white;
        }

        .submit-btn {
            width: 100%;
            padding: 18px;
            background: #f7b602;
            color: #2c2c2c;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .submit-btn:hover {
            background: #e5a600;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(247, 182, 2, 0.3);
        }

        #student-fields { display: block; }
        #admin-fields { display: none; }
       

        .error-message {
            background: #fee;
            color: #c33;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
            font-size: 14px;
        }

        /* ========== DASHBOARD PAGE ========== */
        .dashboard-page {
            display: none;
            min-height: 100vh;
        }

        .header {
            background: white;
            border-bottom: 1px solid #e5e5e5;
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-header {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: #f7b602;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-text {
            font-size: 22px;
            font-weight: 700;
            color: #1a1a1a;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .theme-toggle, .logout-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: #f5f5f5;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .theme-toggle:hover, .logout-btn:hover {
            background: #f7b602;
        }

        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 80px 40px;
        }

        .hero-section {
            text-align: center;
            margin-bottom: 80px;
        }

        .hero-title {
            font-size: 64px;
            font-weight: 900;
            color: #1a1a1a;
            margin-bottom: 20px;
            letter-spacing: -2px;
        }

        .hero-subtitle {
            font-size: 18px;
            color: #666;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .courses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .course-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .course-card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            transform: translateY(-4px);
        }

        .course-content {
            padding: 40px 32px;
        }

        .course-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }

        .course-icon {
            width: 60px;
            height: 60px;
            background: rgba(247, 182, 2, 0.15);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }

        .course-title {
            font-size: 28px;
            font-weight: 700;
            color: #1a1a1a;
        }

        .course-description {
            color: #666;
            font-size: 15px;
            line-height: 1.6;
        }

        .course-footer {
            padding: 24px 32px;
            background: #fafafa;
        }

        .explore-btn {
            width: 100%;
            padding: 16px;
            background: #f7b602;
            color: #1a1a1a;
            border: none;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .explore-btn:hover {
            background: #e5a600;
        }

        /* ========== COURSE DETAIL PAGE ========== */
        .course-detail-page {
            display: none;
            min-height: 100vh;
        }

        .course-header-nav {
            background: white;
            border-bottom: 1px solid #e5e5e5;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
        }

        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #e5e5e5;
        }

        .nav-links {
            display: flex;
            gap: 32px;
        }

        .nav-link {
            color: #666;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-link:hover {
            color: #f7b602;
        }

        /* Dropdown de cursos */
        .courses-dropdown {
            position: relative;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            min-width: 200px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            margin-top: 0;
    		transform: none;
            z-index: 1000;
        }

		/* .courses-dropdown:hover .dropdown-content,
		.courses-dropdown:focus-within .dropdown-content {
    		display: block;
		}
		*/

        .dropdown-item {
            padding: 12px 20px;
            color: #666;
            text-decoration: none;
            display: block;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .dropdown-item:hover {
            background: #f7b602;
            color: #1a1a1a;
        }

        .dropdown-item:first-child {
            border-radius: 8px 8px 0 0;
        }

        .dropdown-item:last-child {
            border-radius: 0 0 8px 8px;
        }

        .user-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #f7b602;
        }

        .breadcrumb {
            padding: 20px 0;
            color: #999;
            font-size: 14px;
        }

        .breadcrumb a {
            color: #f7b602;
            text-decoration: none;
        }

        .course-detail-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 40px 80px;
        }

        .course-title-main {
            font-size: 48px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 30px;
        }

        .tabs-nav {
            display: flex;
            gap: 32px;
            border-bottom: 2px solid #e5e5e5;
            margin-bottom: 40px;
        }

        .tab-link {
            padding: 12px 0;
            color: #666;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-link.active {
            color: #f7b602;
            border-bottom-color: #f7b602;
        }

        .topic-section {
            margin-bottom: 60px;
        }

        .topic-title {
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 20px;
        }

        .video-container {
            width: 100%;
            aspect-ratio: 16/9;
            background: #e5e5e5;
            border-radius: 12px;
            margin-bottom: 20px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
        }

        .video-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: #666;
        }

        .topic-description {
            color: #666;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .action-buttons {
            display: flex;
            gap: 16px;
        }

        .btn-primary {
            flex: 1;
            padding: 14px 24px;
            background: #f7b602;
            color: #1a1a1a;
            border: none;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: #e5a600;
        }

        .btn-secondary {
            flex: 1;
            padding: 14px 24px;
            background: white;
            color: #1a1a1a;
            border: 2px solid #e5e5e5;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            border-color: #f7b602;
            color: #f7b602;
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 42px;
            }
            .courses-grid {
                grid-template-columns: 1fr;
            }
            .main-content, .course-detail-content {
                padding: 40px 20px;
            }
            .action-buttons {
                flex-direction: column;
            }
        }
    
        /* Support embedded iframes inside video cards */
        .video-container iframe {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            border: 0;
            border-radius: 12px;
        }
</style>

    <!-- MathJax for rendering LaTeX equations -->
    <script>
      MathJax = {
        tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
        svg: { fontCache: 'global' }
      };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

	<script>
	document.addEventListener('DOMContentLoaded', () => {
	  const dropdown = document.querySelector('.courses-dropdown');
	  const menu = dropdown.querySelector('.dropdown-content');
	  const trigger = dropdown.querySelector('.nav-link');

	  // Alterna visibilidad al hacer clic
	  trigger.addEventListener('click', (e) => {
		e.preventDefault();
		menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
	  });

	  // Cierra el menú si el mouse sale del área del dropdown
	  menu.addEventListener('mouseleave', () => {
		menu.style.display = 'none';
	  });

	  // También cierra si se hace clic fuera del menú
	  document.addEventListener('click', (e) => {
		if (!dropdown.contains(e.target)) {
		  menu.style.display = 'none';
		}
	  });
	});
	</script>

		
</head>
<body>
    <!-- ========== LOGIN PAGE ========== -->
    <div class="login-page" id="login-page">
        <div class="login-container">
            <div class="logo-section">
                <img src="Logo.png" width="256" height="256" alt=""/>
				<h1>SmartStudy</h1>
				<p class="subtitle">Bienvenido a Smart Study, un espacio para aprender, practicar y comprender la ciencia de forma clara y sencilla</p>
            </div>
            <div class="role-tabs">
                <button class="tab active" id="student-tab">Estudiante</button>
				<button class="tab" id="admin-tab">Administrador</button>
            </div>
            <div class="error-message" id="error-message"></div>
            <form id="login-form">
                <div id="student-fields">
                    <div class="form-group">
                        <label for="student-name">Nombre Completo</label>
                        <input type="text" id="student-name" placeholder="Ingresa tu nombre">
                    </div>
                    <div class="form-group">
                        <label for="student-code">Código de Estudiante</label>
                        <input type="text" id="student-code" placeholder="Ingresa tu código N000XXXXXX">
                    </div>
                </div>
				<div id="admin-fields">
                    <div class="form-group">
                        <label for="admin-email">Correo</label>
                        <input type="email" id="admin-email" placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label for="admin-password">Contraseña</label>
                        <input type="password" id="admin-password" placeholder="Enter your password">
                    </div>
                </div>
               <button type="submit" class="submit-btn">Iniciar Sesión</button>
            </form>
        </div>
    </div>

    <!-- ========== DASHBOARD PAGE ========== -->
    <div class="dashboard-page" id="dashboard-page">
        <header class="header">
            <div class="header-content">
                <div class="logo-header">
                    <div class="logo-icon"><img src="Logo.png" width="24" height="24" alt=""/></div>
                    <span class="logo-text">SmartStudy</span>
                </div>
                <div class="header-right">
                    <button class="theme-toggle"><img src="claro.png" width="32" height="32" alt=""/></button>
                    <button class="logout-btn" onclick="logout()" title="Cerrar Sesión"><img src="salir.png" width="32" height="32" alt=""/></button>
                </div>
            </div>
        </header>
        <main class="main-content">
            <div class="hero-section">
                <h2 class="hero-title">Explora y Aprende</h2>
                <p class="hero-subtitle">En esta sección puedes acceder a los recursos de Matemática, Física y Química, con videos explicativos, autoevaluaciones interactivas y el apoyo de tu tutor IA, que te acompaña paso a paso para comprender y aplicar cada concepto en la ingeniería y la vida real.</p>
            </div>
            <div class="courses-grid">
                <div class="course-card">
                    <div class="course-content">
                        <div class="course-header">
                            <div class="course-icon"><img src="Mate.png" width="48" height="48" alt=""/></div>
                            <h3 class="course-title">Matemáticas</h3>
                        </div>
                        <p class="course-description">Domina las ideas clave de las matemáticas y descubre cómo aplicarlas para resolver retos reales. Aprende a interpretar, calcular y modelar situaciones cotidianas y de ingeniería con confianza, claridad y sentido práctico.</p>
                    </div>
                    <div class="course-footer">
                        <button class="explore-btn" onclick="showCourse('matematicas')">
                            <span>Explorar Curso</span>
                            <span>→</span>
                        </button>
                    </div>
                </div>
                <div class="course-card">
                    <div class="course-content">
                        <div class="course-header">
                            <div class="course-icon"><img src="Fisi.png" width="46" height="46" alt=""/></div>
                            <h3 class="course-title">Física</h3>
                        </div>
                        <p class="course-description">Descubre las leyes que dan forma al mundo y entiende cómo influyen en lo que ves cada día. Comprende el movimiento, la energía y las fuerzas que hacen posible la tecnología y la ingeniería moderna.</p>
                    </div>
                    <div class="course-footer">
                        <button class="explore-btn" onclick="showCourse('fisica')">
                            <span>Explorar Curso</span>
                            <span>→</span>
                        </button>
                    </div>
                </div>
                <div class="course-card">
                    <div class="course-content">
                        <div class="course-header">
                            <div class="course-icon"><img src="Quim.png" width="48" height="48" alt=""/></div>
                            <h3 class="course-title">Química</h3>
                        </div>
                        <p class="course-description">Explora la materia desde una mirada curiosa y aplicada. Comprende cómo ocurren las transformaciones que sustentan la vida, la industria y la ingeniería, conectando la ciencia con lo que usas y ves a diario.</p>
                    </div>
                    <div class="course-footer">
                        <button class="explore-btn" onclick="showCourse('quimica')">
                            <span>Explorar Curso</span>
                            <span>→</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- ========== COURSE DETAIL PAGE ========== -->
    <div class="course-detail-page" id="course-detail-page">
        <header class="course-header-nav">
            <div class="nav-container">
                <div class="top-nav">
                    <div class="logo-header">
                        <div class="logo-icon"><img src="Logo.png" width="24" height="24" alt=""/></div>
                        <span class="logo-text">SmartStudy</span>
                    </div>
                    <div class="nav-links">
                        <a href="#" class="nav-link" onclick="backToDashboard(); return false;">Inicio</a>
                        <div class="courses-dropdown">
                            <a href="#" class="nav-link" style="color: #f7b602;">Cursos ▾</a>
                            <div class="dropdown-content">
                                <div class="dropdown-item" onclick="showCourse('matematicas')"><img src="Mate.png" width="13" height="13" alt=""/> Matemáticas</div>
                                <div class="dropdown-item" onclick="showCourse('fisica')"><img src="Fisi.png" width="12" height="12" alt=""/> Física</div>
                                <div class="dropdown-item" onclick="showCourse('quimica')"><img src="Quim.png" width="13" height="13" alt=""/> Química</div>
                            </div>
                        </div>
                    </div>
                    <div class="user-section">
                        <button class="theme-toggle"><img src="claro.png" width="32" height="32" alt=""/></button>
                        <button class="logout-btn" onclick="logout()" title="Cerrar Sesión"><img src="salir.png" width="32" height="32" alt=""/></button>
                    </div>
                </div>
                <div class="breadcrumb">
                    <a href="#" onclick="backToDashboard()">Cursos</a> / <span id="course-name-breadcrumb">Matemática</span>
                </div>
            </div>
        </header>
        <main class="course-detail-content">
            <h1 class="course-title-main" id="course-name-title">Matemática</h1>
            <div class="tabs-nav">
                <div class="tab-link active">Temas</div>
            </div>
            
            <div id="course-topics"></div>
        </main>
    </div>

    <script>
        // Credenciales
        const adminCredentials = [
            { email: 'julian.diaz@upn.edu.pe', password: 'Docente_quim2025', course: 'Química', name: 'Julian Ricardo Diaz Ruiz' },
            { email: 'luis.carmona@upn.edu.pe', password: 'Docente_mate2025', course: 'Matemática', name: 'Luis Alberto Carmona Castrejon' },
            { email: 'yamil.minez@upn.edu.pe', password: 'Docente_fisi2025', course: 'Física', name: 'Yamil Zenefelder Minez Cuba' }
        ];

        // Contenido de los cursos
        const coursesContent = {
            matematicas: {
                name: 'Matemática',
                topics: [
                    {
                        title: 'Suma de Funciones',
                        iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/7ga65jt1xOg?si=wDEw7-adRxXhDKh-" title="Suma de Funciones" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
                        description: `La suma de funciones combina dos funciones $f$ y $g$ sumando sus valores:
                        $$ (f + g)(x) = f(x) + g(x) $$
                        <br><b>Ejemplo:</b> si $f(x) = 2x + 1$ y $g(x) = x^2$, entonces
                        $$ (f + g)(x) = x^2 + 2x + 1. $$
                        El dominio de $(f+g)$ es la intersección de los dominios de $f$ y $g$.`
                    },
                    {
                        title: 'Resta de Funciones',
                        iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/3poB1pM11dM?si=AXX20eBGUBUrADcD" title="Resta de Funciones" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
                        description: `La resta de funciones se define como
                        $$ (f - g)(x) = f(x) - g(x). $$
                        <br><b>Ejemplo:</b> si $f(x) = x^2 + 2x$ y $g(x) = x + 1$, entonces
                        $$ (f - g)(x) = x^2 + x - 1. $$`
                    },
                    {
                        title: 'Multiplicación de Funciones',
                        iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/qJkRXOaatpc?si=6M2SrL1TgRNQhNdv" title="Multiplicación de Funciones" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
                        description: `La multiplicación de funciones:
                        $$ (f \\cdot g)(x) = f(x) \\cdot g(x). $$
                        <br><b>Ejemplo:</b> si $f(x) = x - 2$ y $g(x) = \\sqrt{x}$, entonces
                        $$ (f\\cdot g)(x) = (x - 2)\\sqrt{x}, \\quad x \\ge 0. $$`
                    },
                    {
                        title: 'División de Funciones',
                        iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/iql2R3LzaKU?si=VxdeMq9oZysO-Bpa" title="División de Funciones" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
                        description: `La división de funciones:
                        $$ \\left( \\frac{f}{g} \\right)(x) = \\frac{f(x)}{g(x)}, \\quad g(x) \\ne 0. $$
                        <br><b>Ejemplo:</b> si $f(x) = x^2 - 1$ y $g(x) = x - 1$, entonces
                        $$ \\frac{f(x)}{g(x)} = \\frac{x^2 - 1}{x - 1} = x + 1, \\quad x \\ne 1. $$`
                    },
                    {
                        title: 'Dominio y Rango de Funciones',
                        iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/u9FR4le6xBY?si=8rPb3cb58pQLOkS0" title="Dominio y Rango de Funciones" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
                        description: `El <b>dominio</b> es el conjunto de valores de $x$ para los que $f(x)$ está definida; el <b>rango</b> es el conjunto de valores de $f(x)$. 
                        <br><b>Ejemplo:</b> si $f(x) = \\sqrt{x - 1}$, entonces
                        $$ \\text{Dom}(f) = [1, \\infty), \\qquad \\text{Ran}(f) = [0, \\infty). $$`
                    }
                ]
            },

            fisica: {
			  name: 'Física',
			  topics: [
				{
				  title: 'Momento de fuerza o torque',
				  iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/SYAM2Anw_4M?si=N8AzMg5VW1wWofiw" title="Momento de fuerza o torque" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
				  description: `
				  El <b>torque</b> o <b>momento de fuerza</b> mide la tendencia de una fuerza a provocar rotación alrededor de un punto o eje.  
				  Se define como el producto vectorial entre el vector posición y la fuerza aplicada:
				  $$ \\vec{\\tau} = \\vec{r} \\times \\vec{F}, \\quad \\tau = r F \\sin\\theta. $$
				  Donde:
				  - $r$ es la distancia desde el eje de rotación hasta el punto de aplicación de la fuerza,
				  - $F$ es la magnitud de la fuerza,
				  - $\\theta$ el ángulo entre ambos vectores.

				  Cuanto mayor sea la distancia o la fuerza, mayor será el torque.  
				  <b>Ejemplo:</b> una llave de $r=0.25\\,\\text{m}$ con una fuerza de $80\\,\\text{N}$ perpendicular genera:
				  $$ \\tau = 0.25 \\times 80 = 20\\,\\text{N·m}. $$
				  El sentido del giro se determina con la regla de la mano derecha.
				  `
				},
				{
				  title: 'Segunda condición de equilibrio',
				  iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/QSMT1ztD3Tw?si=W68baqA_jOuifSsH" title="Segunda condición de equilibrio" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
				  description: `
				  Un cuerpo rígido está en equilibrio rotacional cuando la suma de todos los torques es nula:
				  $$ \\sum \\tau = 0. $$
				  Esto implica que no hay rotación neta.  
				  Si además se cumple el equilibrio traslacional:
				  $$ \\sum \\vec{F} = \\vec{0}, $$
				  entonces el cuerpo se encuentra en <b>equilibrio total</b> (sin moverse ni rotar).

				  En problemas prácticos, se elige un punto de referencia (pivote) y se aplican ambas condiciones para determinar fuerzas desconocidas.
				  `
				},
				{
				  title: 'Ejercicio: segunda condición de equilibrio',
				  iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/xdEnJSl7shs?si=OqKK9S8ylfkaYSyi" title="Ejercicio segunda condición de equilibrio" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
				  description: `
				  <b>Paso a paso:</b>
				  1️⃣ Dibuja el <b>diagrama de cuerpo libre</b> con todas las fuerzas.  
				  2️⃣ Elige un punto de giro donde aplicar $\\sum \\tau = 0$ (preferiblemente uno donde actúe una fuerza desconocida para eliminarla).  
				  3️⃣ Sustituye las fuerzas y distancias perpendiculares:  
				  $$ F_1 d_1 = F_2 d_2. $$  
				  4️⃣ Resuelve para la fuerza o distancia buscada.

				  Este procedimiento permite comprender cómo las fuerzas pueden compensarse para mantener el equilibrio.
				  `
				},
				{
				  title: 'Equilibrio total de cuerpos rígidos',
				  iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/MJTITOMHgBk?si=844SAJOym4aONCzW" title="Equilibrio total" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
				  description: `
				  Un cuerpo está en <b>equilibrio total</b> si se cumplen simultáneamente las dos condiciones:
				  $$ \\sum \\vec{F} = \\vec{0}, \\qquad \\sum \\tau = 0. $$
				  La primera evita movimientos lineales; la segunda evita rotaciones.

				  Ejemplo típico: una viga sostenida por dos apoyos que equilibra su propio peso y el de cargas adicionales.
				  Estos principios son la base del diseño estructural y el análisis de sistemas estáticos.
				  `
				},
				{
				  title: 'Ejercicio de equilibrio total',
				  iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/bND2VGji9Is?si=UIoYCILfbFchU4MA" title="Ejercicio equilibrio total" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
				  description: `
				  <b>Ejemplo:</b>  
				  Una viga horizontal de longitud $L$ y peso propio $W$ está apoyada en los extremos A y B.  
				  Condiciones de equilibrio:
				  $$ R_A + R_B = W, $$
				  y tomando momentos respecto de A:
				  $$ R_B L = W \\frac{L}{2} \\Rightarrow R_B = \\frac{W}{2}, \\quad R_A = \\frac{W}{2}. $$

				  De esta manera, ambas reacciones se reparten el peso de forma equilibrada.  
				  El razonamiento es idéntico para puentes, grúas o estructuras estáticas reales.
				  `
				}
			  ]
			},
			quimica: {
			  name: 'Química',
			  topics: [
				{
				  title: 'Leyes Ponderales – Ley de Lavoisier',
				  iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/stUIYf17FwM?si=_QCX0VMIw-4u1_iA" title="Ley de Lavoisier" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
				  description: `
				  La <b>Ley de Lavoisier</b> establece que en toda reacción química, la masa total de los reactivos es igual a la masa total de los productos:
				  $$ m_{\\text{reactivos}} = m_{\\text{productos}}. $$
				  Esto significa que la materia no se crea ni se destruye, solo se transforma.  

				  <b>Ejemplo:</b>  
				  Cuando el hidrógeno y el oxígeno reaccionan para formar agua:
				  $$ 2\\,\\mathrm{H_2} + \\mathrm{O_2} \\rightarrow 2\\,\\mathrm{H_2O}, $$
				  las masas cumplen:
				  $$ 2(2) + 32 = 36\\,\\text{g de reactivos} = 36\\,\\text{g de productos}. $$
				  `
				},
				{
				  title: 'Leyes Ponderales – Ley de Dalton (proporciones múltiples)',
				  iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/TVtt9zwVOgA?si=oWuCaIWEV9PXGWX-" title="Ley de Dalton" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
				  description: `
				  La <b>Ley de Dalton</b> afirma que si dos elementos se combinan de distintas maneras para formar varios compuestos,
				  las masas de uno que se combinan con una cantidad fija del otro están en proporciones de números enteros pequeños.

				  <b>Ejemplo:</b>  
				  El carbono y el oxígeno forman:
				  - Monóxido de carbono (CO): 12 g de C con 16 g de O.  
				  - Dióxido de carbono (CO₂): 12 g de C con 32 g de O.  
				  La proporción de masas de O en ambos compuestos es $16:32 = 1:2$, un número entero simple.
				  `
				},
				{
				  title: 'Leyes Ponderales – Ley de Proust (proporciones definidas)',
				  iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/WnzCl-EJkiU?si=y90-xJe3v686UHHD" title="Ley de Proust" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
				  description: `
				  La <b>Ley de Proust</b> indica que un compuesto puro siempre tiene la misma proporción en masa de sus elementos,
				  sin importar su origen o método de obtención.  

				  <b>Ejemplo:</b>  
				  En el agua ($\\mathrm{H_2O}$), la relación de masas entre hidrógeno y oxígeno siempre es:
				  $$ \\frac{m_{\\text H}}{m_{\\text O}} = \\frac{2\\times1}{16} = \\frac{1}{8}. $$
				  Por tanto, 1 g de hidrógeno se combina siempre con 8 g de oxígeno para formar agua.
				  `
				},
				{
				  title: 'Reactivo limitante y en exceso',
				  iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/Th_epvvGUx8?si=Z1QJfcmn9_sIsR88" title="Reactivo limitante y en exceso" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
				  description: `
				  En una reacción química, el <b>reactivo limitante</b> es el que se consume primero y determina la cantidad máxima de producto que puede formarse.  
				  El <b>reactivo en exceso</b> queda parcialmente sin reaccionar.  

				  <b>Paso a paso:</b>  
				  1️⃣ Calcula los moles de cada reactivo: $n = m/M$.  
				  2️⃣ Divide los moles entre sus coeficientes estequiométricos.  
				  3️⃣ El menor resultado indica el reactivo limitante.  

				  <b>Ejemplo:</b>  
				  $$ \\mathrm{2H_2 + O_2 \\to 2H_2O} $$  
				  Si tienes 4 mol de $\\mathrm{H_2}$ y 3 mol de $\\mathrm{O_2}$:  
				  $\\frac{4}{2}=2$, $\\frac{3}{1}=3$ → el menor valor es 2 → $\\mathrm{H_2}$ es el limitante.
				  `
				},
				{
				  title: 'Ejercicio – Leyes Ponderales',
				  iframe: `<iframe width="560" height="315" src="https://www.youtube.com/embed/5_GeOnBtlOQ?si=hjv9mGEySdHcouo3" title="Ejercicio Leyes Ponderales" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`,
				  description: `
				  En este ejercicio se aplican las tres leyes ponderales para analizar masas de reactivos y productos.  
				  Se espera que el estudiante identifique la ley correspondiente, compruebe las proporciones y determine la coherencia de los datos experimentales.

				  <b>Recomendación:</b> redondear las masas con dos decimales y justificar si los resultados confirman o no la ley evaluada.
				  `
				}
			  ]
			},
        };

		const tutorLinks = {
		  matematicas: 'https://chatgpt.com/g/g-686599df8fc48191a33742ebf9942be8-fisigen',
		  fisica: 'https://chatgpt.com/g/g-682b57c92b208191b5add667cb74e058-neutrino',
		  quimica: 'https://chatgpt.com/g/g-I55tWh9Vc-taxonomia-de-bloom'
		};

		
		
        let currentRole = 'student';

        // Login handlers
        document.getElementById('admin-tab').addEventListener('click', () => {
            document.getElementById('admin-tab').classList.add('active');
            document.getElementById('student-tab').classList.remove('active');
            document.getElementById('admin-fields').style.display = 'block';
            document.getElementById('student-fields').style.display = 'none';
            currentRole = 'admin';
        });

        document.getElementById('student-tab').addEventListener('click', () => {
            document.getElementById('student-tab').classList.add('active');
            document.getElementById('admin-tab').classList.remove('active');
            document.getElementById('student-fields').style.display = 'block';
            document.getElementById('admin-fields').style.display = 'none';
            currentRole = 'student';
        });

        document.getElementById('login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const errorMessage = document.getElementById('error-message');

            if (currentRole === 'admin') {
                const email = document.getElementById('admin-email').value;
                const password = document.getElementById('admin-password').value;
                const admin = adminCredentials.find(c => c.email === email && c.password === password);

                if (admin) {
                    document.getElementById('login-page').style.display = 'none';
                    document.getElementById('dashboard-page').style.display = 'block';
                } else {
                    errorMessage.textContent = 'Correo o contraseña incorrectos';
                    errorMessage.style.display = 'block';
                    setTimeout(() => errorMessage.style.display = 'none', 3000);
                }
            } else {
                const name = document.getElementById('student-name').value.trim();
                const code = document.getElementById('student-code').value.trim();

                if (name && code) {
                    document.getElementById('login-page').style.display = 'none';
                    document.getElementById('dashboard-page').style.display = 'block';
                } else {
                    errorMessage.textContent = 'Por favor completa todos los campos';
                    errorMessage.style.display = 'block';
                    setTimeout(() => errorMessage.style.display = 'none', 3000);
                }
            }
        });

        // Mostrar curso
        function showCourse(courseId) {
            const course = coursesContent[courseId];
            document.getElementById('dashboard-page').style.display = 'none';
            document.getElementById('course-detail-page').style.display = 'block';
            document.getElementById('course-name-breadcrumb').textContent = course.name;
            document.getElementById('course-name-title').textContent = course.name;

            const topicsContainer = document.getElementById('course-topics');
            topicsContainer.innerHTML = course.topics.map(topic => `
                <div class="topic-section">
                    <h2 class="topic-title">${topic.title}</h2>
                    <div class="video-container">
                        ${topic.iframe ? topic.iframe : `<img src="${topic.video}" alt="${topic.title}"><div class="play-button">▶</div>`}
                    </div>
                    ${topic.description ? `<p class="topic-description">${topic.description}</p>` : ''}
                    <div class="action-buttons">
                        <button class="btn-primary" onclick="openQuiz('${courseId}', '${topic.title}')">Autoevaluación</button>
                        <button class="btn-secondary" onclick="openTutor('${courseId}', '${topic.title}')">Abrir Tutor GPT</button>
                    </div>
                </div>
            `).join('');
            if (window.MathJax && MathJax.typeset) { MathJax.typeset(); }
        }

        // Volver al dashboard
        function backToDashboard() {
            document.getElementById('course-detail-page').style.display = 'none';
            document.getElementById('dashboard-page').style.display = 'block';
        }

        // Abrir cuestionario
        function openQuiz(courseId, topicTitle) {
            alert(`Cuestionario Interactivo: ${topicTitle}\n\nPróximamente: Sistema de cuestionarios con preguntas de opción múltiple y retroalimentación inmediata.`);
        }

        // Abrir tutor inteligente
        function openTutor(courseId, topicTitle) {
		  const url = tutorLinks[courseId];
		  if (!url) {
			alert('No hay tutor configurado para este curso.');
			return;
		  }
		  window.open(url, '_blank', 'noopener,noreferrer');
		}

        // Cerrar sesión
        function logout() {
            if (confirm('¿Estás seguro que deseas cerrar sesión?')) {
                // Ocultar páginas
                document.getElementById('dashboard-page').style.display = 'none';
                document.getElementById('course-detail-page').style.display = 'none';
                
                // Limpiar formularios
                document.getElementById('login-form').reset();
                
                // Mostrar página de login
                document.getElementById('login-page').style.display = 'flex';
            }
        }
    </script>

	<script>
	  // Toggle de modo oscuro con persistencia + cambio de icono
	  const themeButtons = document.querySelectorAll('.theme-toggle');
	  const themeIcons = document.querySelectorAll('.theme-toggle img');

	  // Aplica tema + iconos + persistencia
	  function applyTheme(isDark) {
		document.body.classList.toggle('dark-mode', isDark);
		themeIcons.forEach(img => { img.src = isDark ? 'oscuro.png' : 'claro.png'; });
		localStorage.setItem('smartstudy-theme', isDark ? 'dark' : 'light');
	  }

	  // Estado guardado
	  const saved = localStorage.getItem('smartstudy-theme');
	  applyTheme(saved === 'dark');

	  // Click en cualquiera de los botones
	  themeButtons.forEach(btn => {
		btn.addEventListener('click', () => {
		  const isDark = !document.body.classList.contains('dark-mode');
		  applyTheme(isDark);
		});
	  });
	</script>

	
</body>
</html>
